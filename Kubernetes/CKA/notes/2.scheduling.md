# Scheduling
Scheduling means assigning Pod to to Nodes. 
A scheduler watches for newly created Pods that have no Nodes assigned and it becomes responsible for finding best Node for that Pod to run on.

## 1. Manual Scheduling
```
apiVersion: v1
kind: Pod
metadata:
  name: panda-pod
  labels:
    app: panda
    type: kodekloud
spec:
  containers:
    - name: nginx-container
      image: nginx
  nodeName: <nodename>
```

### 2. Labels and Selectors
- group things together based on certain properties and criteria.
- group and select objects.

In k8s terms, 
there are number of resources available in k8s, Pods, deployments, replicaSets, statefulsets etc.
As our K8s environments increases we might have 100, 1000 of resources creates, multiple applications being hosted on K8s etc. We want to keep things organised and easy to find when it is needed.
This makes things easy to understand and very helpful in case of debugging.

K8s objects can be divided based on,
- type of object (POD/ReplicaSets,Deployments/Services ect)
- app type (app1/app2/app3/...)
- functionality (frontend/webservers/backend/audit/Database/ etc)

- Annotations:
record other details for informations. ex. buildVersion etc.

### 3. Taint and Tolerations

Taint - applied to Nodes
Tolerations - applied to Pods.

Taint and tolerations are used to set restrictions on Nodes that which Pod it can accept.

By default, k8s tries to divide the load equally to available nodes in the cluster.
Suppose a use case where you want to restrict a Node to have only certains Pod to be placed based on some set of rules.

kubectl taint nodes node-name key=value:taint-effect

taint-effect - What happens to the Pod that DO NOT TOLERATE this taint?
 - NoSchedule (Gauranteed that Pod will not schedule on the Node)
 - PreferNoSchedule (Not Gauranteed)
 - No Execute (will not execute the new Pods without toleration and existing Pods without tolerations will be EVICTED)

Scheduler doesn't place any Pod to master node. Why?
taint is set on Master Node.

### 4. Node Selector
Run a Pod on specific Node.
    - label the node in key value manner for e.g. size: Large.
    - then in pod defition refer that with nodeSelector.

Labelling a Node:
- `kubectl label nodes <nodename> <labelkey>=<labelvalue>`

Limitations:
- single label and selector possible. What if want to customize it say, place Pod on any Node except one?
- Doesn't have capability to set multiple nodeSelector.

NodeAffinity and NodeAntiAffinity serves this purpose.

4. 1. Node Affinity
Pods are hosted on particular Node.
advanced capability. Can have multiple rules set.
